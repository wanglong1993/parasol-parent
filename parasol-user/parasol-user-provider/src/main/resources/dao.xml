<?xml version="1.0" encoding="GB2312"?>
<dal>
	<default>
		<dbStrategy name=""
			clazz="com.lenovo.vctl.dal.dao.route.strategy.DefaultStrategy">
			<pattern value="[0-9]$" group="g2" />
		</dbStrategy>
		<listenerClass className="" />
		<idCenterDS ds="idCenterDS" />   <!-- 缺省IdCenter使用的数据源配置 -->
	</default>
	<route>
		<!-- 在一个侦听器中实现before after -->
		<object name="com.ginkgocap.parasol.user.model.UserLoginRegister" listenerClass="com.ginkgocap.ywxt.framework.dal.dao.listener.DefaultListener" strategyProperty="passport">
			<dbStrategy name="" clasz="com.ginkgocap.ywxt.framework.dal.dao.route.strategy.DefaultStrategy" useCRC32="true">
				<pattern value="[02468]$" group="g2" />
				<pattern value="[13579]$" group="g3" />
			</dbStrategy>
 		<!-- 通过通行证查找用户id是否存在 --> 
          <map name="UserLoginRegister_Map_Passport"
                 sqlitem="select id from tb_user_login_register where passport=? "
                 sqlType="hsql" keyProperty="passport" valueProperty="id"  update="true"/>
                                               
		</object>
		
		<object name="com.ginkgocap.parasol.user.model.UserInterestIndustry" listenerClass="com.ginkgocap.ywxt.framework.dal.dao.listener.DefaultListener" strategyProperty="passport">
			<dbStrategy name="" clasz="com.ginkgocap.ywxt.framework.dal.dao.route.strategy.DefaultStrategy" useCRC32="true">
				<pattern value="[02468]$" group="g2" />
				<pattern value="[13579]$" group="g3" />
			</dbStrategy>
          <list name="UserInterestIndustry_List_UserId"
                 sqlitem="select id from tb_user_interest_industry where user_id=?"
                 sqlType="hsql" keyProperty="userId" valueProperty="id"  update="true"/>
        <!-- 通过一级行业id查找用户id列表 --> 
		  <list name="UserInterestIndustry_List_Id_FirstIndustryId"
                 sqlitem="select user_id from tb_user_interest_industry where first_industry_id =? order by utime desc"
                 sqlType="hsql" keyProperty="firstIndustryId" valueProperty="userId"  update="false"/>
		</object>
		
		<object name="com.ginkgocap.parasol.user.model.UserBasic" listenerClass="com.ginkgocap.ywxt.framework.dal.dao.listener.DefaultListener" strategyProperty="passport">
			<dbStrategy name="" clasz="com.ginkgocap.ywxt.framework.dal.dao.route.strategy.DefaultStrategy" useCRC32="true">
				<pattern value="[02468]$" group="g2" />
				<pattern value="[13579]$" group="g3" />
			</dbStrategy>
		</object>		
	</route>
</dal>

